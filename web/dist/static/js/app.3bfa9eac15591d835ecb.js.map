{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?171a","webpack:///./src/App.vue","webpack:///src/components/race-info/RaceInfo.vue","webpack:///./src/components/race-info/RaceInfo.vue?014a","webpack:///./src/components/race-info/RaceInfo.vue","webpack:///./src/router/index.js","webpack:///./src/store/modules/app.js","webpack:///./src/store/modules/race.js","webpack:///./src/store/index.js","webpack:///./src/directives/resize.js","webpack:///./src/main.js","webpack:///./src/filters/hhmmss.js"],"names":["App","_this","this","data","updated_time","then","updatedTime","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","RaceInfo","_iteratorNormalCompletion","result","_step","value","created_at","bib","surname","name","r","place","results","_iteratorNormalCompletion2","_step2","_iteratorNormalCompletion3","_step3","org","race","length","race_info_RaceInfo","_vm","staticClass","fluid","cols","_l","$store","getters","group","key","on","click","$event","scrollToGroup","_v","_s","state","variant","getCountPersons","_e","getCountOutPersons","directives","rawName","expression","small","hover","fields","items","getAllResults","scopedSlots","_u","fn","row","scrollToPerson","item","groupId","title","sub-title","long_name","responsive","getResults","size","toggleDetails","detailsShowing","selectOrg","type","splits","_f","time","components_race_info_RaceInfo","RaceInfo_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","app","isLoading","mutations","setLoading","actions","getById","list","_didIteratorError","_iteratorError","undefined","_iterator","get_iterator_default","next","done","obj","err","return","modules_race","getGroups","groups","setRace","_didIteratorError2","_iteratorError2","_iterator2","persons","organization","organizations","organization_id","group_id","_didIteratorError3","_iteratorError3","_iterator3","person","person_id","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","course","courses","course_id","_arr","_i","itemName","sort","a","b","toUpperCase","setUpdatedTime","vuex_esm","resizeEvent","store","Store","modules","strict","resize","inserted","el","binding","delta","style","overflow","height","window","innerHeight","addEventListener","unbind","removeEventListener","vue_resource_esm","es","vue_scrollto_default","directive","filter","hours","Math","floor","minutes","seconds","http","options","root","config","productionTip","beforeEach","to","from","commit","afterEach","shutDown","console","log","post","components","template"],"mappings":"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","file":"static/js/app.3bfa9eac15591d835ecb.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  created () {\n    const updatedTime = () => {\n      this.$http.get('updated_time?_=' + +(new Date())).then(res => {\n        if (!res.data.is_alive) {\n          this.$http.get('shutdown?_=' + +(new Date())).then()\n        } else {\n          if (res.data.updated_time !== this.$store.state.race.updatedTime) {\n            this.$http.get('race').then(res => {\n              this.$store.commit('setRace', res.data)\n            })\n            this.$store.commit('setUpdatedTime', res.data.updated_time)\n          }\n          setTimeout(updatedTime, 1000)\n        }\n      })\n    }\n    updatedTime()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import \"sass/main\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07ddfc5b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07ddfc5b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07ddfc5b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"race-info\">\n    <b-container fluid>\n      <b-row>\n        <b-col cols=\"12\">\n          <b-button-group>\n            <b-button v-for=\"group in $store.getters.getGroups\"\n                      :key=\"'b' + group.id\"\n                      @click=\"scrollToGroup(group.id)\">{{group.name}}</b-button>\n          </b-button-group>\n          <b-badge v-if=\"$store.state.race.race\" variant=\"primary\">{{getCountPersons()}}</b-badge>\n          <b-badge v-if=\"$store.state.race.race && getCountOutPersons()\" variant=\"danger\">{{getCountOutPersons()}}</b-badge>\n        </b-col>\n        <b-col cols=\"3\">\n          <b-card class=\"indentation-top\" v-resize=\"70\">\n            <b-table small hover\n                     :fields=\"['bib', 'surname', 'name', 'group', 'place']\"\n                     :items=\"getAllResults()\">\n              <template slot=\"surname\" slot-scope=\"row\">\n                <span class=\"clickable\" @click=\"scrollToPerson(row.item.id)\">{{row.item.surname}}</span>\n              </template>\n              <template slot=\"name\" slot-scope=\"row\">\n                <span class=\"clickable\" @click=\"scrollToPerson(row.item.id)\">{{row.item.name}}</span>\n              </template>\n              <template slot=\"group\" slot-scope=\"row\">\n                <span v-if=\"row.item.group\"\n                      class=\"clickable\"\n                      @click=\"scrollToGroup(row.item.groupId)\">{{row.item.group}}</span>\n              </template>\n            </b-table>\n          </b-card>\n        </b-col>\n        <b-col cols=\"9\">\n          <b-row>\n            <b-col cols=\"12\">\n              <div id=\"group-results\" class=\"indentation-top\" v-resize=\"70\">\n                <b-card :id=\"'group' + group.id\"\n                        class=\"indentation-bottom\"\n                        v-for=\"group in $store.getters.getGroups\"\n                        :key=\"group.id\"\n                        :title=\"group.name\"\n                        :sub-title=\"group.long_name\">\n                  <b-table responsive small hover\n                           :fields=\"['n', 'bib', 'surname', 'name', 'year', 'org', 'place', 'result']\"\n                           :items=\"getResults(group)\">\n                    <template slot=\"n\" slot-scope=\"row\">\n                      <b-button size=\"sm\"\n                                variant=\"outline-secondary\"\n                                v-if=\"row.item.bib !== void 0\"\n                                @click=\"row.toggleDetails\">{{ row.detailsShowing ? '-' : '+'}}</b-button>\n                    </template>\n                    <template slot=\"surname\" slot-scope=\"row\">\n                      <i :id=\"'person' + row.item.id\"></i>{{row.item.surname}}\n                    </template>\n                    <template slot=\"org\" slot-scope=\"row\">\n                      <span class=\"clickable\" @click=\"selectOrg(row.item.org)\">{{row.item.org}}</span>\n                    </template>\n                    <template slot=\"row-details\" slot-scope=\"row\">\n                      <b-card>\n                        <b-table v-if=\"row.item.data.type = 'ResultSportident'\"\n                                 :fields=\"['code', 'time']\"\n                                 :items=\"row.item.data.splits\">\n                          <template slot=\"time\" slot-scope=\"row\">\n                            {{row.item.time|hhmmss}}\n                          </template>\n                        </b-table>\n                      </b-card>\n                    </template>\n                  </b-table>\n                </b-card>\n              </div>\n            </b-col>\n          </b-row>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'race-info',\n  data () {\n    return {\n      selectedOrg: '',\n      selectedPerson: '',\n      isRelay: false\n    }\n  },\n  methods: {\n    getResults (group) {\n      this.isRelay = this.$store.state.race.race && this.$store.state.race.race.data.race_type === 3\n      let results = []\n      if (this.$store.state.race.race && this.$store.state.race.race.results) {\n        for (const result of this.$store.state.race.race.results) {\n          if (result.person && result.person.group && result.person.group.id === group.id) {\n            const r = {\n              id: result.person.id + '-' + result.id,\n              created_at: result.created_at,\n              bib: result.person.bib,\n              surname: result.person.surname,\n              name: result.person.name,\n              year: result.person.birth_date ? (new Date(result.person.birth_date)).getFullYear() : '',\n              org: (result.person.organization && result.person.organization.name) || '',\n              startTime: result.start_time || result.person.start_time || 0,\n              place: result.place || '',\n              data: result,\n              result: result.result,\n              _showDetails: false\n            }\n            if (this.selectedOrg && this.selectedOrg === r.org) {\n              r._rowVariant = 'success'\n            }\n            if (this.isNew(r.created_at * 1000)) {\n              r._rowVariant = 'danger'\n            }\n            if (this.selectedPerson && this.selectedPerson === r.id) {\n              r._rowVariant = 'warning'\n              setTimeout(() => {\n                r._rowVariant = ''\n              }, 2000)\n            }\n            results.push(r)\n          }\n        }\n      }\n      results.sort((a, b) => {\n        if (a.place === '') {\n          return 1\n        }\n        if (b.place === '') {\n          return -1\n        }\n        if (this.isRelay && a.place === b.place) {\n          return ~~(a.bib / 1000) - ~~(b.bib / 1000)\n        }\n        return a.place - b.place\n      })\n      if (this.isRelay) {\n        let prevBib = 0\n        const resultsList = [...results]\n        results = []\n        for (const r of resultsList) {\n          if (r.bib % 1000 !== prevBib) {\n            results.push({_rowVariant: 'secondary', data: {}})\n            prevBib = r.bib % 1000\n          }\n          results.push(r)\n        }\n      }\n      return results\n    },\n    getAllResults () {\n      const results = []\n      if (this.$store.state.race.race && this.$store.state.race.race.results) {\n        for (const result of this.$store.state.race.race.results) {\n          if (result.person) {\n            const r = {\n              id: result.person.id + '-' + result.id,\n              created_at: result.created_at,\n              bib: result.person.bib,\n              surname: result.person.surname,\n              name: result.person.name,\n              group: (result.person.group && result.person.group.name) || '',\n              groupId: (result.person.group && result.person.group.id) || '',\n              place: result.place || '',\n              data: result\n            }\n            if (this.isNew(r.created_at * 1000)) {\n              r._rowVariant = 'danger'\n            }\n            results.push(r)\n          }\n        }\n      }\n      results.sort((a, b) => {\n        return b.created_at - a.created_at\n      })\n      return results\n    },\n    selectOrg (org) {\n      if (this.selectedOrg === org) {\n        this.selectedOrg = ''\n      } else {\n        this.selectedOrg = org\n      }\n    },\n    scrollToGroup (id) {\n      this.$scrollTo('#group' + id, 500, {container: '#group-results'})\n    },\n    scrollToPerson (id) {\n      this.selectedPerson = id\n      this.$scrollTo('#person' + id, 500, {container: '#group-results', offset: -window.innerHeight / 2})\n    },\n    isNew (timestamp) {\n      return (+(new Date()) - timestamp) < (1000 * 30)\n    },\n    getCountPersons () {\n      const race = this.$store.state.race.race\n      return (race && race.persons && race.persons.length) || 0\n    },\n    getCountOutPersons () {\n      const race = this.$store.state.race.race\n      if (race && race.persons && race.results) {\n        return race.persons.length - race.results.filter(elem => elem.person).length\n      }\n      return 0\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .clickable {\n    cursor: pointer;\n  }\n  .indentation-top {\n    margin-top: 10px;\n  }\n  .indentation-bottom {\n    margin-bottom: 10px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/race-info/RaceInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"race-info\"},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-button-group',_vm._l((_vm.$store.getters.getGroups),function(group){return _c('b-button',{key:'b' + group.id,on:{\"click\":function($event){_vm.scrollToGroup(group.id)}}},[_vm._v(_vm._s(group.name))])})),_vm._v(\" \"),(_vm.$store.state.race.race)?_c('b-badge',{attrs:{\"variant\":\"primary\"}},[_vm._v(_vm._s(_vm.getCountPersons()))]):_vm._e(),_vm._v(\" \"),(_vm.$store.state.race.race && _vm.getCountOutPersons())?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.getCountOutPersons()))]):_vm._e()],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-card',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(70),expression:\"70\"}],staticClass:\"indentation-top\"},[_c('b-table',{attrs:{\"small\":\"\",\"hover\":\"\",\"fields\":['bib', 'surname', 'name', 'group', 'place'],\"items\":_vm.getAllResults()},scopedSlots:_vm._u([{key:\"surname\",fn:function(row){return [_c('span',{staticClass:\"clickable\",on:{\"click\":function($event){_vm.scrollToPerson(row.item.id)}}},[_vm._v(_vm._s(row.item.surname))])]}},{key:\"name\",fn:function(row){return [_c('span',{staticClass:\"clickable\",on:{\"click\":function($event){_vm.scrollToPerson(row.item.id)}}},[_vm._v(_vm._s(row.item.name))])]}},{key:\"group\",fn:function(row){return [(row.item.group)?_c('span',{staticClass:\"clickable\",on:{\"click\":function($event){_vm.scrollToGroup(row.item.groupId)}}},[_vm._v(_vm._s(row.item.group))]):_vm._e()]}}])})],1)],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"9\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(70),expression:\"70\"}],staticClass:\"indentation-top\",attrs:{\"id\":\"group-results\"}},_vm._l((_vm.$store.getters.getGroups),function(group){return _c('b-card',{key:group.id,staticClass:\"indentation-bottom\",attrs:{\"id\":'group' + group.id,\"title\":group.name,\"sub-title\":group.long_name}},[_c('b-table',{attrs:{\"responsive\":\"\",\"small\":\"\",\"hover\":\"\",\"fields\":['n', 'bib', 'surname', 'name', 'year', 'org', 'place', 'result'],\"items\":_vm.getResults(group)},scopedSlots:_vm._u([{key:\"n\",fn:function(row){return [(row.item.bib !== void 0)?_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-secondary\"},on:{\"click\":row.toggleDetails}},[_vm._v(_vm._s(row.detailsShowing ? '-' : '+'))]):_vm._e()]}},{key:\"surname\",fn:function(row){return [_c('i',{attrs:{\"id\":'person' + row.item.id}}),_vm._v(_vm._s(row.item.surname)+\"\\n                  \")]}},{key:\"org\",fn:function(row){return [_c('span',{staticClass:\"clickable\",on:{\"click\":function($event){_vm.selectOrg(row.item.org)}}},[_vm._v(_vm._s(row.item.org))])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[(row.item.data.type = 'ResultSportident')?_c('b-table',{attrs:{\"fields\":['code', 'time'],\"items\":row.item.data.splits},scopedSlots:_vm._u([{key:\"time\",fn:function(row){return [_vm._v(\"\\n                          \"+_vm._s(_vm._f(\"hhmmss\")(row.item.time))+\"\\n                        \")]}}])}):_vm._e()],1)]}}])})],1)}))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25fae7e3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/race-info/RaceInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25fae7e3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RaceInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RaceInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RaceInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25fae7e3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RaceInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25fae7e3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/race-info/RaceInfo.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport RaceInfo from '../components/race-info/RaceInfo.vue'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'RaceInfo',\r\n      component: RaceInfo\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","const state = {\r\n  isLoading: true\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n  isLoading: state => state.isLoading\r\n}\r\n\r\nconst mutations = {\r\n  setLoading (state, isLoading) {\r\n    state.isLoading = isLoading\r\n  }\r\n}\r\n\r\nconst actions = {\r\n}\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/app.js","function getById (list, id) {\n  if (id) {\n    for (const obj of list) {\n      if (obj.id === id) {\n        return obj\n      }\n    }\n  }\n  return null\n}\n\nconst state = {\n  race: {},\n  updatedTime: 0\n}\n\n// getters\nconst getters = {\n  race: state => state.race,\n  updated_time: state => state.updatedTime,\n  getGroups: state => (state.race && state.race.groups) || []\n}\n\n// actions\nconst actions = {\n}\n\n// mutations\nconst mutations = {\n  setRace (state, race) {\n    for (const obj of race.persons) {\n      obj.organization = getById(race.organizations, obj.organization_id)\n      obj.group = getById(race.groups, obj.group_id)\n    }\n    for (const obj of race.results) {\n      obj.person = getById(race.persons, obj.person_id)\n    }\n    for (const obj of race.groups) {\n      obj.course = getById(race.courses, obj.course_id)\n    }\n    for (const itemName of ['groups', 'courses']) {\n      race[itemName].sort((a, b) => {\n        if (a.name.toUpperCase() < b.name.toUpperCase()) return -1\n        if (a.name.toUpperCase() > b.name.toUpperCase()) return 1\n        return 0\n      })\n    }\n    state.race = race\n  },\n  setUpdatedTime (state, updatedTime) {\n    state.updatedTime = updatedTime\n  }\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/race.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport app from './modules/app'\r\nimport race from './modules/race'\r\n\r\nVue.use(Vuex)\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    app,\r\n    race\r\n  },\r\n  strict: debug\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export default (() => {\n  let resizeEvent\n  return {\n    inserted (el, binding) {\n      let delta = 0\n      if (binding.value) {\n        delta = binding.value\n      }\n      el.style.overflow = 'auto'\n      resizeEvent = () => {\n        el.style.height = window.innerHeight - delta + 'px'\n      }\n      resizeEvent()\n      window.addEventListener('resize', resizeEvent)\n    },\n    unbind () {\n      window.removeEventListener('resize', resizeEvent)\n    }\n  }\n})()\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/resize.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport VueResource from 'vue-resource'\nimport BootstrapVue from 'bootstrap-vue'\nimport VueScrollTo from 'vue-scrollto'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport resize from './directives/resize'\nimport hhmmss from './filters/hhmmss'\n\nVue.use(VueResource)\nVue.use(BootstrapVue)\nVue.use(VueScrollTo)\nVue.directive('resize', resize)\nVue.filter('hhmmss', hhmmss)\n\nVue.http.options.root = 'api/v1'\n\nVue.config.productionTip = false\n\nrouter.beforeEach((to, from, next) => {\n  store.commit('setLoading', true)\n  next()\n})\n\nrouter.afterEach((to, from) => {\n  store.commit('setLoading', false)\n})\n\nwindow.shutDown = () => {\n  console.log('Server shutting down...')\n  Vue.http.post('shutdown').then()\n}\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default (value) => {\n  if (!value) return ''\n  value /= 1000\n  let hours = Math.floor(value / 3600)\n  value %= 3600\n  let minutes = Math.floor(value / 60)\n  let seconds = value % 60\n  hours = hours < 10 ? '0' + hours : hours\n  minutes = minutes < 10 ? '0' + minutes : minutes\n  seconds = seconds < 10 ? '0' + seconds : seconds\n  return `${hours}:${minutes}:${seconds}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/hhmmss.js"],"sourceRoot":""}